"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const path = require("path");
const plugin_1 = require("../../plugin");
function relativeUrl(absolute) {
    if (!absolute) {
        return '';
    }
    const urlPrefix = /^(http|ftp)s?:\/\//;
    if (!plugin_1.MarkdownPlugin.location || urlPrefix.test(absolute)) {
        return absolute;
    }
    else {
        const relative = path.relative(path.dirname(plugin_1.MarkdownPlugin.location), path.dirname(absolute));
        return path.join(relative, path.basename(absolute)).replace(/\\/g, '/');
    }
}
exports.relativeUrl = relativeUrl;
